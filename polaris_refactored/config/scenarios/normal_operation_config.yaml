# POLARIS Configuration for Normal Operation Test Scenario
# This scenario tests stable operation with no expected adaptations

# Inherit from base mock system configuration
extends: "../mock_system_config.yaml"

# Override specific settings for normal operation scenario
framework:
  service_name: "polaris-mock-system-normal-operation"
  
managed_systems:
  mock_system:
    system_id: "mock_system_normal"
    
    # Monitoring configuration for normal operation
    monitoring_config:
      collection_interval: 10  # Less frequent for stable scenario
      
control_reasoning:
  threshold_reactive:
    # More conservative thresholds to avoid unnecessary adaptations
    rules:
      # High CPU threshold - higher to avoid triggering
      - rule_id: "high_cpu_scale_up"
        name: "High CPU Scale Up"
        enabled: true
        priority: 3
        cooldown_seconds: 120.0
        action_type: "SCALE_UP"
        conditions:
          - metric_name: "cpu_usage"
            operator: "gt"
            value: 90.0  # Higher threshold for normal operation
            weight: 1.0
          - metric_name: "capacity"
            operator: "lt"
            value: 10
            weight: 0.5
            
      # Low CPU threshold - lower to avoid triggering
      - rule_id: "low_cpu_scale_down"
        name: "Low CPU Scale Down"
        enabled: true
        priority: 2
        cooldown_seconds: 180.0
        action_type: "SCALE_DOWN"
        conditions:
          - metric_name: "cpu_usage"
            operator: "lt"
            value: 10.0  # Lower threshold for normal operation
            weight: 1.0
          - metric_name: "capacity"
            operator: "gt"
            value: 2
            weight: 0.5
            
      # High response time threshold - higher to avoid triggering
      - rule_id: "high_response_time_optimize"
        name: "High Response Time Optimization"
        enabled: true
        priority: 2
        cooldown_seconds: 120.0
        action_type: "OPTIMIZE_CONFIG"
        conditions:
          - metric_name: "response_time"
            operator: "gt"
            value: 1000  # Higher threshold (1 second)
            weight: 1.0
            
      # High error rate threshold - higher to avoid triggering
      - rule_id: "high_error_rate_restart"
        name: "High Error Rate Service Restart"
        enabled: true
        priority: 4
        cooldown_seconds: 300.0
        action_type: "RESTART_SERVICE"
        conditions:
          - metric_name: "error_rate"
            operator: "gt"
            value: 20.0  # Higher threshold (20%)
            weight: 2.0
            
      # Disable other rules for normal operation
      - rule_id: "low_throughput_enable_caching"
        enabled: false
        
      - rule_id: "high_memory_adjust_qos"
        enabled: false

# Scenario-specific observability settings
observability:
  service_name: "polaris-mock-normal-operation"
  metrics:
    collection_interval: 10
    export_interval: 20
  logging:
    log_level: "INFO"

# Test scenario metadata
scenario:
  name: "normal_operation"
  description: "Test stable system operation with no expected adaptations"
  expected_adaptations: 0
  duration_minutes: 10
  success_criteria:
    - "No adaptations triggered"
    - "All metrics remain stable"
    - "No errors in logs"
    - "System maintains baseline performance"